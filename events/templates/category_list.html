{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Category List</title>

    <link rel="stylesheet" href="{% static 'css/output.css' %}">
</head>
<body class="min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white">
    {% include "logged_header.html" %}
    <h1 class="bg-gradient-to-r  from-gray-50 via-gray-400 to-white/20
        bg-clip-text text-transparent text-4xl md:text-5xl lg:text-7xl font-bold text-center mt-8 mb-5 md:mb-8 pb-5">Category List</h1>

    <div class="w-1/2 mt-8 mx-auto shadow-md p-4">
        
         {% if messages %} 
           {% for message in messages %}
              <p class="px-2 text-center text-slate-100 py-1 {% if message.tags == 'success' %}bg-slate-500/70{% endif %} ">{{message}}</p>
           {% endfor %}          
         {% endif %}
    </div>
    <div class="border backdrop-blur-sm border-white/5 bg-transparent shadow-md  p-2 rounded-xl divide-y divide-blue-400/20 m-5"> 
          <div
            class="grid grid-cols-[1fr_3fr_1fr_1fr_1fr] rounded-t-md gap-10 uppercase p-4  text-sm text-gray-50/80 font-semibold hover:bg-gray-700/20">
            <div>Category Name</div>
            <div>Description</div>
            <div class="text-center">Total Events</div>
            <div>Update</div>
            <div>Delete</div>
          </div>
          
          {% for category in categories %}
          <div
            class="grid grid-cols-[1fr_3fr_1fr_1fr_1fr] gap-10 uppercase p-4  text-sm text-gray-50/60 font-semibold hover:bg-slate-600/20"
          >
            <div>{{category.name}}</div>
            <div class="normal-case break-words">{{category.description}}</div>
            <div class="text-center">{{category.total_events}}</div>
            
            <div>
              <a href="{% url "update-category" category.id %}" class="px-3 md:px-5  py-1 bg-blue-500/40 hover:bg-blue-600 hover:text-white">Edit</a>
            </div>
            <div>
              <form action=" {% url 'delete-category' category.id %} " method="POST">
              {% csrf_token %} 
                <button type='submit' class="px-3 md:px-5 py-1 bg-rose-500 hover:bg-rose-700 hover:text-white">Delete</button>
              </form>
            </div>
          </div>
          

          {% endfor %}

        </div>

        {% comment %} {% include "footer.html" %} {% endcomment %}

</body>
</html>